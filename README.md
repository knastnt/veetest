# –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ —Å REST API –Ω–∞ Spring Boot + Docker

---




---

# üì£ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Docker

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å postgresql –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```
docker run -d -p 5432:5432 --name veeroute-postgres -e POSTGRES_PASSWORD=mysecretpassword --env="POSTGRES_DB=veeroute" postgres
docker run -dp 8080:8080 --link veeroute-postgres:pgsql knastnt/veetest
```

–ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ http://localhost:8080/employees

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞.

---

**–ó–∞–¥–∞–Ω–∏–µ:** 
```$xslt
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å - rest api –¥–ª—è CRUD –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è , –∫–æ—Ç–æ—Ä–æ–µ
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –±–∞–∑–µ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –ø–æ n —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤). –°
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏—Ö —É–¥–∞–ª–µ–Ω–∏—è, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö.
–£ –≤–∞—Å –µ—Å—Ç—å –≤—Å–µ–≥–æ 1 —Ç–∞–±–ª–∏—Ü–∞ employees. –í –Ω–µ–π —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫
—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤(–Ω–∞–ø—Ä–∏–º–µ—Ä,—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è).–°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –º–æ–∂–Ω–æ
–¥–æ–±–∞–≤–ª—è—Ç—å (create), –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ(read), –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ
(update), —É–¥–∞–ª—è—Ç—å(delete).
–î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ:
‚óè id ‚Äì–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞;
‚óè first_name ‚Äì–ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
‚óè last_name ‚Äì —Ñ–∞–º–∏–ª–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
‚óè middle_name - –æ—Ç—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
‚óè date_of_birth ‚Äì–¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è;
‚óè date_added - –¥–∞—Ç–∞ –¥–æ–±–∞–ª–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
‚óè date_updated -–¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
‚óè account_number - –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞
‚óè is_deleted ‚Äì true- —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –±—ã–ª —É–¥–∞–ª–µ–Ω, false- —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –Ω–µ —É–¥–∞–ª–µ–Ω
API:
1) –ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤—Å–µ–≥–æ —Å–ø–∏—Å–∫–∞ –Ω–µ—É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
(+—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é)
2) –ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –ø–æ id
3) –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ –ø–æ id
4) –ó–∞–ø—Ä–æ—Å –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –ø–æ id (–≤ –±–∞–∑–µ –ø–æ–º–µ–Ω—è—Ç—å —Ñ–ª–∞–∂–æ–∫ is_deleted)
5) –ó–∞–ø—Ä–æ—Å –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
–¢–∏–ø —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:json
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
‚Ä¢ Java 8-11
‚Ä¢ Spring/Springboot.
‚Ä¢ PostgreSQL/Redis
‚Ä¢ Maven/Gradle
–ü–æ–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞–º–∏(JUnit/Mockito) –∏ —É–ø–∞–∫—É–π—Ç–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –≤
docker, —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É —Ç–æ–∂–µ –º–æ–∂–µ—Ç–µ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ docker, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç—å
–≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –æ–ø–∏—Å–∞–Ω–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö
–ø–∞–∫–µ—Ç–æ–≤.
```

---

##   –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ –Ω–∞ —Å—Ç–µ–∫–µ Java 11, Maven, Spring Boot, Spring Web, Spring Data JPA (Hibernate), PostgreSQL, JUnit.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ ```8080``` –ø–æ—Ä—Ç—É.

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–æ—Å—Ç—É–ø –∫ –ë–î:

#### PostgreSql ```pgsql:5432```, –∏–º—è –±–∞–∑—ã ```veeroute```

–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤ - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–ª–∏—Ü—ã —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

---

## REST —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```GET /employees``` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

```GET /employees?page=2``` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ. –í –ø–∞—Ä–∞–º–µ—Ç—Ä–µ ```page``` —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–∞—á–∏–Ω–∞—è —Å 1. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–æ–º ```app.rest.employee.count-on-page``` –≤ —Ñ–∞–π–ª–µ ```app.rest.employee.count-on-page``` –∏ —Å–µ–π—á–∞—Å —Ä–∞–≤–Ω–æ 2.

```GET /employees/{ID}``` –≤–æ–∑–≤—Ä–∞o–∞–µ—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ –ø–æ –µ–≥–æ id, –∏ –∫–æ–¥ 404 –µ—Å–ª–∏ —Ç–∞–∫–æ–≤–æ–π –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

```POST /employees``` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ—Ä–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ –ø—Ä–∏–Ω–∏–º–∞—è –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è, required –ø–æ–ª–µ–π –Ω–µ—Ç. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ —Å –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω—ã–º–∏ id, –¥–∞—Ç–æ–π —Å–æ–∑–¥–∞–Ω–∏—è –∏ –¥–∞—Ç–æ–π –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ—Ç–º–µ—Ç–∫–æ–π isDeleted. –ü—Ä–∏–º–µ—Ä json:
```$xslt
{
    "firstName": "–ì–µ–Ω–Ω–∞–¥–∏–π",
    "lastName": "–ü–æ–ª—è–∫–æ–≤",
    "middleName": "–Æ—Ä—å–µ–≤–∏—á",
    "dateOfBirth": "2001-05-26 15:00:05",
    "accountNumber": 31556,
    "deleted": false
  }
```

```PUT /employees/{id}``` —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ –ø—Ä–∏–Ω–∏–º–∞—è –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è, required –ø–æ–ª–µ–π –Ω–µ—Ç. –ù–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è. –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–±–Ω–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–µ —Å –¥–∞—Ç–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –ï—Å–ª–∏ id –≤ –∞–¥—Ä–µ—Å–µ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –∏ id –≤ JSON, –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω –∫–æ–¥ 400. –ü—Ä–∏–º–µ—Ä json:
```$xslt
{
    "id":4,
    "firstName": "–ì–µ–Ω–Ω–∞–¥–∏–π",
    "lastName": "–ü–æ–ª—è–∫–æ–≤",
    "middleName": "–Æ—Ä—å–µ–≤–∏—á",
    "dateOfBirth": "2001-05-25 23:00:05",
    "accountNumber": 31556,
    "deleted": false
  }
```

```DELETE /employees/{id}``` —É–¥–∞–ª—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ –∏–∑–º–µ–Ω—è—è —Ñ–ª–∞–≥ isDeleted. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 –≤ —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —É–¥–∞–ª—è–µ–º–æ–≥–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞.



## –ß—Ç–æ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ –∏–ª–∏ —Å–¥–µ–ª–∞–Ω–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

* –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö —Ä–∞–Ω–Ω—ã—Ö
* –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–∞–±–æ—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
* –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
* –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ë–î –¥–ª—è —Ç–µ—Å—Ç–æ–≤ —Å —Ä–∞–±–æ—á–µ–π –ë–î

---

Building
```
docker run -d -p 5432:5432 --name veeroute-postgres -e POSTGRES_PASSWORD=mysecretpassword --env="POSTGRES_DB=veeroute" postgres
mvn -Dmaven.test.skip=true package
docker build -t veetest .
docker run -t --link veeroute-postgres:pgsql -p 8080:8080 veetest
```


---

* Konstantin Zubrilin | [HH.ru](https://komsomolsk-na-amure.hh.ru/resume/2797db4fff056344b60039ed1f486a50525650) |  456kot@mail.ru
